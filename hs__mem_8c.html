<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.10"/>
<title>ExositeReady SDK: src/lib/hs_mem.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="EXOSITE-ready.logo-sheet.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">ExositeReady SDK
   &#160;<span id="projectnumber">2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.10 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('hs__mem_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">hs_mem.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This file implements the hs_mem interface.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;<a class="el" href="type_8h_source.html">lib/type.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="error_8h_source.html">lib/error.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="debug_8h_source.html">lib/debug.h</a>&gt;</code><br />
<code>#include &lt;lib/dlmalloc.h&gt;</code><br />
<code>#include &lt;<a class="el" href="system__utils_8h_source.html">system_utils.h</a>&gt;</code><br />
<code>#include &quot;<a class="el" href="heap__space__internal_8h_source.html">heap_space_internal.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="hs__mem_8h_source.html">hs_mem.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="heap__tracker_8h_source.html">heap_tracker.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:accf4a69ee5c00d1aca4ed7688b289194"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="accf4a69ee5c00d1aca4ed7688b289194"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>hs_mem_log</b>(message)</td></tr>
<tr class="separator:accf4a69ee5c00d1aca4ed7688b289194"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a725283494be0db3da21055876e952065"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a725283494be0db3da21055876e952065"></a>
static void *&#160;</td><td class="memItemRight" valign="bottom"><b>internal_realloc</b> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, void *p, size_t size)</td></tr>
<tr class="separator:a725283494be0db3da21055876e952065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35ccedd1e68d8ab7e523022b2312b30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af35ccedd1e68d8ab7e523022b2312b30"></a>
static void&#160;</td><td class="memItemRight" valign="bottom"><b>internal_free</b> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, void *p)</td></tr>
<tr class="separator:af35ccedd1e68d8ab7e523022b2312b30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac1f2903d3f9e4205e022ba8984687e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hs__mem_8c.html#a1ac1f2903d3f9e4205e022ba8984687e">internal_set_allocators</a> (internal_malloc_func imalloc, internal_free_func ifree, internal_realloc_func irealloc)</td></tr>
<tr class="memdesc:a1ac1f2903d3f9e4205e022ba8984687e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Registers allocators to the internal_allocator module.  <a href="#a1ac1f2903d3f9e4205e022ba8984687e">More...</a><br /></td></tr>
<tr class="separator:a1ac1f2903d3f9e4205e022ba8984687e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4fee48a8244986b8fd2e14e17dc1599"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af4fee48a8244986b8fd2e14e17dc1599"></a>
void *&#160;</td><td class="memItemRight" valign="bottom"><b>internal_malloc</b> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, size_t size)</td></tr>
<tr class="separator:af4fee48a8244986b8fd2e14e17dc1599"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fe712d2e28a77ac0f96aa5766a3a9e6"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hs__mem_8c.html#a8fe712d2e28a77ac0f96aa5766a3a9e6">hs_construct</a> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, void *base, size_t size, const char *name, int32_t id)</td></tr>
<tr class="memdesc:a8fe712d2e28a77ac0f96aa5766a3a9e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a heap_space object based on the heap base pointer and size.  <a href="#a8fe712d2e28a77ac0f96aa5766a3a9e6">More...</a><br /></td></tr>
<tr class="separator:a8fe712d2e28a77ac0f96aa5766a3a9e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7bfce2880a89919cc97a9ba96c7f021"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hs__mem_8c.html#ad7bfce2880a89919cc97a9ba96c7f021">hs_get_stats</a> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap)</td></tr>
<tr class="memdesc:ad7bfce2880a89919cc97a9ba96c7f021"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints information about the given heap.  <a href="#ad7bfce2880a89919cc97a9ba96c7f021">More...</a><br /></td></tr>
<tr class="separator:ad7bfce2880a89919cc97a9ba96c7f021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a589e439beaf940d2b97c8431048adfb2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hs__mem_8c.html#a589e439beaf940d2b97c8431048adfb2">hs_mem_alloc</a> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, void **new_ptr, size_t size, const char *id)</td></tr>
<tr class="memdesc:a589e439beaf940d2b97c8431048adfb2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates memory from the given heap.  <a href="#a589e439beaf940d2b97c8431048adfb2">More...</a><br /></td></tr>
<tr class="separator:a589e439beaf940d2b97c8431048adfb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80522cfaced663b94354eef91be36d18"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hs__mem_8c.html#a80522cfaced663b94354eef91be36d18">hs_mem_free</a> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, void *ptr)</td></tr>
<tr class="memdesc:a80522cfaced663b94354eef91be36d18"><td class="mdescLeft">&#160;</td><td class="mdescRight">Frees memory from the given heap.  <a href="#a80522cfaced663b94354eef91be36d18">More...</a><br /></td></tr>
<tr class="separator:a80522cfaced663b94354eef91be36d18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03c3aea29e2ca1d8739d9d2300fa33c3"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hs__mem_8c.html#a03c3aea29e2ca1d8739d9d2300fa33c3">hs_mem_realloc</a> (struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *heap, void **new_ptr, void *old_ptr, size_t size_new, const char *id)</td></tr>
<tr class="memdesc:a03c3aea29e2ca1d8739d9d2300fa33c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reallocates memory from the given heap.  <a href="#a03c3aea29e2ca1d8739d9d2300fa33c3">More...</a><br /></td></tr>
<tr class="separator:a03c3aea29e2ca1d8739d9d2300fa33c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a81a3ed5acc0322b55531cda770fa6b7d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a81a3ed5acc0322b55531cda770fa6b7d"></a>
static BOOL&#160;</td><td class="memItemRight" valign="bottom"><b>emulate_out_of_memory</b> = FALSE</td></tr>
<tr class="separator:a81a3ed5acc0322b55531cda770fa6b7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e8e12ef58fd905bb7105942576052db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a1e8e12ef58fd905bb7105942576052db"></a>
static internal_malloc_func&#160;</td><td class="memItemRight" valign="bottom"><b>in_malloc</b> = malloc</td></tr>
<tr class="separator:a1e8e12ef58fd905bb7105942576052db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5729502103345cfc0eae7f057467eb1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa5729502103345cfc0eae7f057467eb1"></a>
static internal_free_func&#160;</td><td class="memItemRight" valign="bottom"><b>in_free</b> = free</td></tr>
<tr class="separator:aa5729502103345cfc0eae7f057467eb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1e70261e3452e8f72ff53e827a3938"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c1e70261e3452e8f72ff53e827a3938"></a>
static internal_realloc_func&#160;</td><td class="memItemRight" valign="bottom"><b>in_realloc</b> = realloc</td></tr>
<tr class="separator:a7c1e70261e3452e8f72ff53e827a3938"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ddd2215bcc5df514b05fe6bfd91eda7"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9ddd2215bcc5df514b05fe6bfd91eda7"></a>
static malloc_call_func&#160;</td><td class="memItemRight" valign="bottom"><b>malloc_call</b> = internal_malloc</td></tr>
<tr class="separator:a9ddd2215bcc5df514b05fe6bfd91eda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae34cdbf1ab14641f3e8faca94b65400"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aae34cdbf1ab14641f3e8faca94b65400"></a>
static free_call_func&#160;</td><td class="memItemRight" valign="bottom"><b>free_call</b> = internal_free</td></tr>
<tr class="separator:aae34cdbf1ab14641f3e8faca94b65400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47bc255bc7f708ea1cbb3f2718364dbd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a47bc255bc7f708ea1cbb3f2718364dbd"></a>
static realloc_call_func&#160;</td><td class="memItemRight" valign="bottom"><b>realloc_call</b> = internal_realloc</td></tr>
<tr class="separator:a47bc255bc7f708ea1cbb3f2718364dbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This file implements the hs_mem interface. </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Please read the Exosite Copyright: <a class="el" href="md__l_i_c_e_n_s_e.html#copyright">copyright</a></dd></dl>
<p>This implementation is responsible to:</p><ul>
<li>route 'real' allocator calls it can be routed to: std malloc, registered malloc; mspace malloc if a memory space is used</li>
<li>add HEAP instrumentation The instrumentation is completely modular and is part of an other file. The instrumentation can be turned on and off it is seemless regarding to this module</li>
<li>Add Fault injection capabilities</li>
<li>Add error/debug logs</li>
</ul>
<p>Allocator routing:</p><ul>
<li>If there was no allocator registered and heap_space is NULL then the calls are routed to the default allocator (std malloc).</li>
<li>If there was an allocator registered and heap_space is NULL then the calls are routed to the registered allocator.</li>
<li>If heap_space is not NULL then the calls are routed to mspace allocator regardless if there is an allocator registered or not If the user wants to use its own allocator he/she should not provide a mem base. If the user provides a mem base; then the registered allocators will be ignored </li>
</ul>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a8fe712d2e28a77ac0f96aa5766a3a9e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hs_construct </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a heap_space object based on the heap base pointer and size. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>The heap_space object which will be initalized by this call; it has to be allocated by the callee </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">base</td><td>The pointer to the base of the heap </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of the heap</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_SUCCESS if succeeded ERR_* error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="ad7bfce2880a89919cc97a9ba96c7f021"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_get_stats </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *&#160;</td>
          <td class="paramname"><em>heap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Prints information about the given heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>The heap_space object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a589e439beaf940d2b97c8431048adfb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hs_mem_alloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates memory from the given heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>The heap_space object from which memory is allocated </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*ptr</td><td>The pointer to the allocated buffer </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>The size of bytes to be allocated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_id</td><td>An optional id for the allocated memory, if it is NULL it is not used; otherwise it is saved to the instrumentations structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_SUCCESS on success ERR_* error code otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a80522cfaced663b94354eef91be36d18"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hs_mem_free </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Frees memory from the given heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>The heap_space object in which memory is freed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">heap_id</td><td>It uses the heap with this memory ID to allocate memory from </td></tr>
    <tr><td class="paramdir"></td><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a03c3aea29e2ca1d8739d9d2300fa33c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t hs_mem_realloc </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structheap__space__class.html">heap_space_class</a> *&#160;</td>
          <td class="paramname"><em>heap</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>new_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>old_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size_new</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reallocates memory from the given heap. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">heap</td><td>The heap_space object from which memory is reallocated </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">*new_ptr</td><td>The pointer to the allocated buffer. It is only overwritten if the allocation was successful </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">old_ptr</td><td>The pointer to the memory chunk to be reallocated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size_new</td><td>The size of bytes to be allocated </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">chunk_id</td><td>An optional id for the allocated memory, if it is NULL it is not used; otherwise it is saved to the instrumentations structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>ERR_SUCCESS if successful ERR_NO_MEMORY otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="a1ac1f2903d3f9e4205e022ba8984687e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void internal_set_allocators </td>
          <td>(</td>
          <td class="paramtype">internal_malloc_func&#160;</td>
          <td class="paramname"><em>imalloc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">internal_free_func&#160;</td>
          <td class="paramname"><em>ifree</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">internal_realloc_func&#160;</td>
          <td class="paramname"><em>irealloc</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Registers allocators to the internal_allocator module. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">imalloc</td><td>The malloc function to be registered </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ifree</td><td>The free function to be registered </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">irealloc</td><td>The realloc function to be registered </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_c85d3e3c5052e9ad9ce18c6863244a25.html">lib</a></li><li class="navelem"><a class="el" href="hs__mem_8c.html">hs_mem.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.10 </li>
  </ul>
</div>
</body>
</html>
